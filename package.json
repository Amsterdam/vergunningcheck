{
  "name": "vergunningcheck",
  "private": true,
  "repository": {
    "url": "https://github.com/Amsterdam/vergunningcheck"
  },
  "engines": {
    "node": "14"
  },
  "scripts": {
    "start": "lerna run --parallel --no-bail start",
    "start:prod": "lerna run --parallel start:prod",
    "build:netlify": "lerna run build:netlify",
    "start:netlify": "netlify dev",
    "build:size-report": "lerna run build:size-report",
    "test": "CI=true lerna run test",
    "test:coverage": "lerna run test:coverage",
    "lint": "lerna run lint",
    "postinstall": "lerna bootstrap",
    "back-merge": "git fetch && git checkout master && git merge && git checkout release && git merge && git merge master && git push && git checkout develop && git merge && git merge release && git push",
    "imtr": "npm run imtr:preflight && npm run imtr:install && npm run imtr:fetch && npm run imtr:transform && imtr:postprocess",
    "imtr:preflight": "echo 'Check if deno is installed..\n' && command -v deno",
    "imtr:install": "deno cache --reload --lock=./scripts/imtr/lock.json ./scripts/imtr/src/deps.ts || :",
    "imtr:fetch": "deno run --unstable --allow-read --allow-write --allow-env --allow-net ./scripts/imtr/src/main.ts fetch --dir=apps/client",
    "imtr:transform": "deno run --unstable --allow-write --allow-read ./scripts/imtr/src/main.ts transform --dir=apps/client",
    "imtr:postprocess": "cd apps/client; prettier src/topics.json public/**/transformed/*.json public/**/list.json --write",
    "prepare-release": "npm i && npm run back-merge && git checkout develop && npm run imtr && echo '\n\nPlease commit your changes, then push your changed and then run \"npm run release\".\n'",
    "release": "git checkout release && git pull && cli-confirm \"Are you sure you want to merge develop into release? (yN)\" && git merge origin/develop && git push",
    "changelog": "git checkout release && git pull && lerna-changelog",
    "publish": "git checkout release && git pull && lerna publish"
  },
  "devDependencies": {
    "cli-confirm": "^1.0.1",
    "husky": "^4.2.5",
    "lerna": "^3.22.0",
    "lerna-changelog": "^1.0.1"
  },
  "husky": {
    "hooks": {
      "pre-commit": "lerna run --concurrency 1 --stream precommit"
    }
  },
  "changelog": {
    "labels": {
      "feature": "New Features",
      "bug": "Bug fixes",
      "chore": "Chores",
      "docs": "Documentation changes",
      "dependency": "Upgrades"
    }
  }
}
